{
  "name": "Arch Linux Dev Box",
  "build": {
    "dockerfile": "Dockerfile",
    "args": {
      "USERNAME": "vscode"
    },
    "options": [
      "--platform=linux/amd64"
    ],
    "context": ".."
  },
  "shutdownAction": "stopContainer",
  "workspaceFolder": "/workspace",
  "workspaceMount": "source=${localWorkspaceFolder},target=${containerWorkspaceFolder},type=bind,consistency=cached",
  "remoteEnv": {
    "LOCAL_WORKSPACE_FOLDER": "${localWorkspaceFolder}",
    "CONTAINER_WORKSPACE_FOLDER": "${containerWorkspaceFolder}",
    "TEST_DATA_DIR": "${containerWorkspaceFolder}/tests/data",
    "TEST_PEM_PUB_KEY_FILE_NAME": "pub-key.pem",
    "TEST_DER_PUB_KEY_FILE_NAME": "pub-key.der",
    "CC_X86_64_UNKNOWN_LINUX_GNU": "gcc",
    "CARGO_TARGET_X86_64_UNKNOWN_LINUX_GNU_LINKER": "gcc",
    "CC_X86_64_UNKNOWN_LINUX_MUSL": "musl-gcc",
    "CARGO_TARGET_X86_64_UNKNOWN_LINUX_MUSL_LINKER": "gcc",
    "CC_AARCH64_UNKNOWN_LINUX_GNU": "aarch64-linux-gnu-gcc",
    "CARGO_TARGET_AARCH64_UNKNOWN_LINUX_GNU_LINKER": "aarch64-linux-gnu-gcc",
    "CC_AARCH64_UNKNOWN_LINUX_MUSL": "aarch64-linux-musl-gcc",
    "CARGO_TARGET_AARCH64_UNKNOWN_LINUX_MUSL_LINKER": "aarch64-linux-musl-gcc"
  },
  "customizations": {
    "vscode": {
      "settings": {
        "rust-client.rustupPath": "/home/vscode/.cargo/bin/rustup"
      },
      "extensions": [
        "rust-lang.rust-analyzer",
        "vadimcn.vscode-lldb",
        "DavidAnson.vscode-markdownlint",
        "GitHub.copilot",
        "GitHub.copilot-chat",
        "GitHub.vscode-github-actions",
        "ms-azuretools.vscode-docker",
        "ms-azuretools.vscode-containers",
        "ms-vscode.makefile-tools",
        "AmazonWebServices.aws-toolkit-vscode",
        "docker.docker",
        "Codecov.codecov",
        "tamasfe.even-better-toml"
      ]
    }
  },
  "runArgs": [
    "--platform=linux/amd64",
    "--cap-add=SYS_PTRACE",
    "--security-opt",
    "seccomp=unconfined"
  ],
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind"
  ],
  "remoteUser": "vscode",
  "postCreateCommand": "${containerWorkspaceFolder}/.devcontainer/commands/post-create.sh",
  "postStartCommand": "${containerWorkspaceFolder}/.devcontainer/commands/post-start.sh"
}
